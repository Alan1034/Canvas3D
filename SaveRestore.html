<!-- @format -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <canvas id="tutorial" width="300" height="300">
      你的浏览器不支持canvas，请升级你的浏览器
    </canvas>
  </body>
  <script type="text/javascript">
    const draw=()=>{
      const canvas=document.getElementById("tutorial")
      if (!canvas.getContext) {
          return
      }
      console.trace("cool")
    const ctx=canvas.getContext('2d')
    // 每当save被调用后，当前的状态被推送到栈中保存（类似push)
    // 每一次调用restore上一个保存的状态就从栈中弹出，恢复所有设定（类似pop)

    ctx.fillRect(0,0,150,150) // 使用默认设置绘制一个矩形
    ctx.save()  //保存默认状态

    ctx.fillStyle="red" // 在原有配置基础上对颜色做改变
    ctx.fillRect(15,15,120,120)  //使用新的设置绘制一个矩形
    ctx.save() // 保存当前状态

    ctx.fillStyle="#FFF"
    ctx.fillRect(30,30,90,90)

    ctx.restore() //重新加载之前的状态
    ctx.fillRect(45,45,60,60)

    ctx.restore()
    ctx.fillRect(60,60,30,30)
    }
    draw()
  </script>
</html>
